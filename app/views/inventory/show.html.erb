<!DOCTYPE html>
<html>
<head>
  <title><%= @inventory_item.name %> - Hotel Management System</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <style>
    body { font-family: Arial, sans-serif; margin: 0; padding: 20px; background-color: #f5f5f5; }
    .container { max-width: 900px; margin: 0 auto; background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
    .header { text-align: center; color: #333; margin-bottom: 30px; }
    .nav-link { display: inline-block; margin: 10px; padding: 10px 20px; background: #3498db; color: white; text-decoration: none; border-radius: 5px; }
    .nav-link:hover { background: #2980b9; }
    .item-details { display: grid; grid-template-columns: 1fr 2fr; gap: 15px 20px; }
    .detail-label { font-weight: bold; color: #555; text-align: right; }
    .detail-value { background: #ecf0f1; padding: 10px; border-radius: 4px; }
    .status-good { color: #27ae60; font-weight: bold; }
    .status-low-stock { color: #e74c3c; font-weight: bold; }
    .status-expiring-soon { color: #f39c12; font-weight: bold; }
    .status-expired { color: #c0392b; font-weight: bold; }
    .actions { margin-top: 30px; text-align: center; }
  </style>
</head>

<body>
  <div class="container">
    <div class="header">
      <h1><%= @inventory_item.name %></h1>
      <div>
        <%= link_to "Back to Inventory", inventory_index_path, class: "nav-link" %>
        <%= link_to "Edit Item", edit_inventory_path(@inventory_item), class: "nav-link", style: "background: #f39c12;" %>
      </div>
    </div>

    <div class="item-details">
      <div class="detail-label">Category:</div>
      <div class="detail-value"><%= @inventory_item.category.humanize %></div>

      <div class="detail-label">Current Stock:</div>
      <div class="detail-value"><%= @inventory_item.formatted_quantity %></div>

      <div class="detail-label">Minimum Stock Level:</div>
      <div class="detail-value"><%= @inventory_item.minimum_quantity || "Not set" %></div>

      <div class="detail-label">Status:</div>
      <div class="detail-value status-<%= @inventory_item.status.gsub(' ', '-') %>">
        <%= @inventory_item.status.humanize %>
      </div>

      <div class="detail-label">Cost per Unit:</div>
      <div class="detail-value"><%= @inventory_item.cost_per_unit ? "$#{@inventory_item.cost_per_unit}" : "Not set" %></div>

      <div class="detail-label">Supplier:</div>
      <div class="detail-value"><%= @inventory_item.supplier.present? ? @inventory_item.supplier : "Not specified" %></div>

      <div class="detail-label">Expiry Date:</div>
      <div class="detail-value">
        <% if @inventory_item.expiry_date %>
          <%= @inventory_item.expiry_date.strftime('%B %d, %Y') %>
        <% else %>
          No expiry date
        <% end %>
      </div>

      <div class="detail-label">Notes:</div>
      <div class="detail-value"><%= @inventory_item.notes.present? ? @inventory_item.notes : "No notes" %></div>
    </div>

    <div class="actions">
      <p>Update stock level:</p>
      <%= form_with(url: update_stock_inventory_path(@inventory_item), method: :patch, style: "display: inline-flex; align-items: center; gap: 10px;") do |form| %>
        <%= number_field_tag :stock_change, nil, placeholder: "e.g., 10 or -5", style: "padding: 10px; border: 1px solid #ddd; border-radius: 4px;" %>
        <%= form.submit "Update Stock", class: "nav-link", style: "margin: 0;" %>
      <% end %>
    </div>

  </div>
</body>
</html>